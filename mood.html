<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤é¢¨æ±ºç­–æŒ‡å¼• - æ±Ÿæ¹–ç¦ªå¿ƒï½œä¼ä½°æ­Œè©é¸æ“‡å›°é›£ç™‚ç™’</title>
    <meta name="description" content="ç•¶é¸æ“‡å›°é›£æ™‚ï¼Œåƒä¼ä½°ã€ŠæŒªå¨çš„æ£®æ—ã€‹ã€Šæ·šæ©‹ã€‹ã€Šæ™šé¢¨ã€‹ä¸€æ¨£ï¼Œè®“å¤é¢¨è½‰ç›¤çµ¦æ‚¨ä¸€å€‹è·Ÿéš¨å…§å¿ƒçš„ç­”æ¡ˆã€‚å°ˆç‚ºä¸­å¹´ç”·äººæƒ…ç·’ä½è½ã€ç„¡èŠã€çŒ¶è±«æ™‚åˆ»è¨­è¨ˆã€‚">
    <meta name="keywords" content="ä¼ä½°,æŒªå¨çš„æ£®æ—,æ·šæ©‹,æ™šé¢¨,æ»¿æ±Ÿç´…,å”å®‹æ–æ»¾,é¸æ“‡å›°é›£,æƒ…ç·’ç™‚ç™’,ä¸­å¹´ç”·äººæ‡·èˆŠ,å¤é¢¨æŒ‡å¼•">
    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="images/favicon.png">
    <link rel="canonical" href="https://jasyooc.com/mood.html">
    <link rel="stylesheet" href="css/style.css">
    <style>
        body {
            font-family: 'KaiTi', 'STKaiTi', 'BiauKai', 'DFKai-SB', 'LiKaiTi', serif !important;
            -webkit-font-smoothing: antialiased;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'KaiTi', 'STKaiTi', serif !important;
            letter-spacing: 2px;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
        }
        .intro-text {
            font-size: 1.2em;
            line-height: 1.8;
            margin: 20px 0;
            color: #555;
        }
        .song-hint {
            font-size: 1em;
            color: #777;
            margin: 15px 0;
            font-style: italic;
        }
        textarea {
            width:90%; 
            max-width:500px; 
            height:220px; 
            padding:20px; 
            border:1px solid #ddd; 
            border-radius:12px; 
            font-family:'KaiTi','STKaiTi',serif !important; 
            font-size:1.2em; 
            line-height:1.8; 
            margin:20px auto; 
            display:block; 
            resize:vertical;
        }
        #options-input {
            margin-top: 30px;
            text-align: center;
        }
        #options-list {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            justify-content: center;
            margin: 30px 0 35px;
            padding: 10px;
        }
        .option-tag {
            background: #f0ece8;
            color: #333;
            padding: 14px 28px;
            border-radius: 40px;
            font-size: 1.2em;
            font-family: 'KaiTi', 'STKaiTi', serif;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: all 0.3s;
            white-space: nowrap;
        }
        .option-tag:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-3px);
        }
        #wheel-container {
            position: relative;
            width: 340px;
            height: 340px;
            margin: 40px auto;
        }
        canvas {
            width: 100%;
            height: 100%;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        #pointer {
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 28px solid transparent;
            border-right: 28px solid transparent;
            border-top: 55px solid var(--gold);
            z-index: 10;
        }
        #final-choice {
            font-size: 1.6em;
            font-weight: bold;
            color: var(--gold);
        }
        #inspiration {
            font-size: 1.3em;
            line-height: 1.8;
            margin: 25px 0;
        }
        .btn {
            font-family: 'KaiTi', 'STKaiTi', serif !important;
            font-size: 1.2em !important;
            font-weight: bold !important;
        }
    </style>
</head>
<body>
    <header>
        <h1>å¤é¢¨æ±ºç­–æŒ‡å¼•</h1>
        <p style="font-size:1.3em; margin:15px 0;">ç•¶é¸æ“‡å›°é›£æ™‚ï¼Œè®“å¤äººçµ¦æ‚¨ä¸€å€‹ç­”æ¡ˆ</p>
    </header>

    <main>
        <div class="card">
            <p class="intro-text">æ·±å¤œçŒ¶è±«ä»Šæ™šè½å“ªé¦–ä¼ä½°ï¼Ÿ<br>é€±æœ«ä¸çŸ¥å»å“ªæ•£å¿ƒï¼Ÿ<br>å·¥ä½œã€ç”Ÿæ´»ã€æ„Ÿæƒ…â€¦ä»»ä½•é›£ä»¥æ±ºå®šçš„æ™‚åˆ»ï¼Œ</p>
            <p class="intro-text">è®“é€™åº§å¤é¢¨è½‰ç›¤ï¼Œ<br>åƒä¸€é¦–è€æ­Œä¸€æ¨£ï¼Œè¼•è¼•æ¨æ‚¨å‘å‰ã€‚</p>

            <p class="song-hint">æŒªå¨çš„æ£®æ—ã€æ·šæ©‹ã€æ™šé¢¨ã€çªç„¶çš„è‡ªæˆ‘ã€ä¸–ç•Œç¬¬ä¸€ç­‰â€¦â€¦<br>é‚£äº›æ‡‚æ‚¨çš„æ­Œï¼Œéƒ½åœ¨é€™è£¡ã€‚</p>

            <p style="margin:30px 0;">è«‹åœ¨ä¸‹æ–¹è¼¸å…¥æ‚¨çš„é¸é …ï¼Œæ¯è¡Œä¸€å€‹ï¼ˆ2~6å€‹æœ€ä½³ï¼‰</p>

            <textarea id="user-options" placeholder="ä¾‹å¦‚ï¼š&#10;è½æŒªå¨çš„æ£®æ—&#10;è½æ·šæ©‹&#10;è½æ™šé¢¨&#10;å‡ºå»èµ°èµ°&#10;ç•™åœ¨å®¶ä¼‘æ¯&#10;æ—©é»ç¡è¦º"></textarea>

            <button class="btn" onclick="generateWheel()">ç”ŸæˆæŒ‡å¼•è½‰ç›¤</button>

            <div id="options-input" style="display:none;">
                <p>æ‚¨çš„é¸é …ï¼š</p>
                <div id="options-list"></div>
                <button class="btn" onclick="startSpin()">é–‹å§‹è½‰å‹•</button>
            </div>
        </div>

        <div id="wheel-container" style="display:none;">
            <div id="pointer"></div>
            <canvas id="wheel" width="340" height="340"></canvas>
        </div>

        <div class="card" id="result-card">
            <h3>å¤é¢¨æŒ‡å¼•ï¼š</h3>
            <p id="final-choice"></p>
            <p id="inspiration"></p>
            <button class="btn" id="share-btn" onclick="shareResult()">åˆ†äº«é€™ä»½æŒ‡å¼•</button>
            <button class="btn" onclick="resetWheel()" style="margin-top:10px; background:#666;">é‡æ–°æŒ‡å¼•</button>
        </div>

    </main>

    <footer style="text-align:center; padding:50px 20px 30px; font-size:0.9em; color:#666; border-top:1px solid #eee; margin-top:40px; background:var(--bg);">
        <img src="images/logo.webp" alt="æ±Ÿæ¹–ç¦ªå¿ƒ Logo" 
     width="200" height="200" <style="width:80%; max-width:380px; height:auto; display:block; margin:0 auto 30px; object-fit:contain;">
        <p style="margin:10px 0;">Â© 2025 æ±Ÿæ¹–ç¦ªå¿ƒ Â· å¤é¢¨æƒ…ç·’ç™‚ç™’æ¸¯ç£</p>
        <p style="margin:10px 0;">
            <a href="https://jasyooc.com/privacy.html" style="color:var(--accent); margin:0 15px; text-decoration:none;">éš±ç§æ”¿ç­–</a>
            <a href="https://jasyooc.com/disclaimer.html" style="color:var(--accent); margin:0 15px; text-decoration:none;">å…è²¬è²æ˜</a>
            <a href="https://jasyooc.com/about.html" style="color:var(--accent); margin:0 15px; text-decoration:none;">é—œæ–¼æˆ‘å€‘</a>
        </p>
        <p style="margin:20px 0 10px; font-size:0.8em;">æœ¬ç«™å…§å®¹åƒ…ä¾›å¨›æ¨‚èˆ‡æƒ…ç·’èˆ’ç·©ï¼Œå¦‚æœ‰åš´é‡å¿ƒç†å•é¡Œè«‹å°‹æ±‚å°ˆæ¥­å¹«åŠ©</p>
    </footer>

    <nav>
        <a href="index.html">ğŸ </a>
        <a href="sign.html">ğŸ€„</a>
        <a href="mood.html" class="active">ğŸ¡</a>
		<a href="woobai.html">ğŸµ</a>
        <a href="ancient.html">ğŸ“œ</a>
        <a href="test.html">ğŸ§ª</a>
		<a href="prompt.html">âœ¨</a>
    </nav>

    <!-- éŸ³æ•ˆæª”æ¡ˆ -->
    <audio id="spin-sound" loop preload="auto">
        <source src="sounds/spin.mp3" type="audio/mpeg">
    </audio>
    <audio id="success-sound" preload="auto">
        <source src="sounds/success.mp3" type="audio/mpeg">
    </audio>

    <script>
        let options = [];
        let canvas, ctx;
        let spinning = false;
        let spinAudio, successAudio;

        const inspirations = [
            "é•·é¢¨ç ´æµªæœƒæœ‰æ™‚ï¼Œç›´æ›é›²å¸†æ¿Ÿæ»„æµ·ã€‚â€”â€”è·Ÿéš¨å…§å¿ƒï¼Œå‹‡å¾€ç›´å‰ã€‚",
            "äººç”Ÿå¦‚é€†æ—…ï¼Œæˆ‘äº¦æ˜¯è¡Œäººã€‚â€”â€”è˜‡è»¾ é€™æ¢è·¯é›–é›£ï¼Œäº¦æ˜¯å¿…ç¶“ã€‚",
            "å±±é‡æ°´è¤‡ç–‘ç„¡è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘ã€‚â€”â€”è½‰è§’è™•è‡ªæœ‰é©šå–œã€‚",
            "å¤©ç”Ÿæˆ‘æå¿…æœ‰ç”¨ï¼Œåƒé‡‘æ•£ç›¡é‚„å¾©ä¾†ã€‚â€”â€”æç™½ æ¯æ¢è·¯éƒ½å€¼å¾—ä¸€è©¦ã€‚",
            "æµ·åˆ°ç„¡é‚Šå¤©ä½œå²¸ï¼Œå±±ç™»çµ•é ‚æˆ‘ç‚ºå³°ã€‚â€”â€”æ‚¨å·²ç«™åœ¨æœ€é«˜è™•ã€‚",
            "èˆ‰æ¯é‚€æ˜æœˆï¼Œå°å½±æˆä¸‰äººã€‚â€”â€”å­¤ç¨æ™‚ï¼Œä¹Ÿè¦å¥½å¥½æ„›è‡ªå·±ã€‚",
            "è«è½ç©¿æ—æ‰“è‘‰è²ï¼Œä½•å¦¨åŸå˜¯ä¸”å¾è¡Œã€‚â€”â€”å¾å®¹é¢å°ï¼Œä¸€åˆ‡çš†å®‰ã€‚",
            "ä¸€ç°¾å¹½å¤¢ä»»å¹³ç”Ÿã€‚â€”â€”åƒä¸€é¦–è€æ­Œï¼Œè·Ÿéš¨å…§å¿ƒï¼Œé‚£ä¾¿æ˜¯æœ€å¥½çš„æ­¸å®¿ã€‚"
        ];

        window.onload = function() {
            spinAudio = document.getElementById('spin-sound');
            successAudio = document.getElementById('success-sound');
        };

        function generateWheel() {
            const input = document.getElementById('user-options').value.trim();
            if (!input) { 
                alert('è«‹è‡³å°‘è¼¸å…¥å…©å€‹é¸é …ï½'); 
                return; 
            }
            options = input.split('\n').map(s => s.trim()).filter(s => s);
            if (options.length < 2 || options.length > 6) { 
                alert('è«‹è¼¸å…¥ 2~6 å€‹é¸é …å“¦ï½'); 
                return; 
            }

            const list = document.getElementById('options-list');
            list.innerHTML = '';
            options.forEach(opt => {
                const tag = document.createElement('span');
                tag.className = 'option-tag';
                tag.textContent = opt;
                list.appendChild(tag);
            });

            document.getElementById('options-input').style.display = 'block';
            document.getElementById('wheel-container').style.display = 'block';
            drawWheel();
        }

        function drawWheel() {
            canvas = document.getElementById('wheel');
            ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = canvas.width / 2 - 25;

            const colors = ['#f5f0e8', '#ece6de', '#e3dcd4', '#dad3ca', '#d1cac0', '#c8c1b6'];
            const segmentAngle = (2 * Math.PI) / options.length;

            options.forEach((option, i) => {
                const startAngle = i * segmentAngle - Math.PI / 2;
                const endAngle = (i + 1) * segmentAngle - Math.PI / 2;

                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.closePath();
                ctx.fillStyle = colors[i % colors.length];
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 6;
                ctx.stroke();

                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle + segmentAngle / 2);
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#333';
                ctx.font = 'bold 20px KaiTi, STKaiTi, serif';
                ctx.fillText(option.substring(0, 10), radius / 2 + 5, 0);
                ctx.restore();
            });
        }

        function startSpin() {
            if (spinning) return;
            spinning = true;
            document.querySelectorAll('button').forEach(b => b.disabled = true);

            const winningIndex = Math.floor(Math.random() * options.length);
            const segmentAngleDeg = 360 / options.length;
            const randomOffset = (Math.random() - 0.5) * segmentAngleDeg * 0.5;
            const exactTarget = (winningIndex * segmentAngleDeg) + (segmentAngleDeg / 2) + randomOffset;
            const spins = 5 + Math.random();
            const animationFinal = exactTarget + spins * 360;

            // è½‰å‹•éŸ³æ•ˆ
            if (spinAudio) {
                spinAudio.currentTime = 0;
                spinAudio.play().catch(() => {});
            }

            canvas.style.transition = 'transform 5.2s cubic-bezier(0.22, 0.68, 0.35, 1)';
            canvas.style.transform = `rotate(${animationFinal}deg)`;

            setTimeout(() => {
                // åœæ­¢è½‰å‹•éŸ³æ•ˆ
                if (spinAudio) spinAudio.pause();

                // æ’­æ”¾æˆåŠŸéŸ³æ•ˆ
                if (successAudio) {
                    successAudio.currentTime = 0;
                    successAudio.play().catch(() => {});
                }

                // å¼·åˆ¶æ ¡æ­£æœ€çµ‚ä½ç½®ï¼ˆé€™ä¸€æ­¥ä¿è­‰100%ä¸€è‡´ï¼‰
                canvas.style.transition = 'none';
                canvas.style.transform = `rotate(${exactTarget}deg)`;

                document.getElementById('final-choice').textContent = options[winningIndex];
                document.getElementById('inspiration').textContent = inspirations[Math.floor(Math.random() * inspirations.length)];
                document.getElementById('result-card').style.display = 'block';
                spinning = false;
                document.querySelectorAll('button').forEach(b => b.disabled = false);
            }, 5400);
        }

        function resetWheel() { 
            location.reload(); 
        }

        function shareResult() {
            const choice = document.getElementById('final-choice').textContent || 'é€™ä»½æŒ‡å¼•';
            const text = `å¤é¢¨æŒ‡å¼•çµ¦äº†æˆ‘ç­”æ¡ˆï¼š${choice} ğŸƒ åƒä¸€é¦–ä¼ä½°çš„è€æ­Œï¼Œè·Ÿéš¨å…§å¿ƒã€‚`;
            prompt('è¤‡è£½ä»¥ä¸‹æ–‡å­—ï¼Œåˆ†äº«åˆ°å¾®ä¿¡æˆ–æœ‹å‹åœˆï¼š', text + '\n\nhttps://jasyooc.com/mood.html');
        }
    </script>
</body>
</html>