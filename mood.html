<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤é¢¨æ±ºç­–è½‰ç›¤ - æ±Ÿæ¹–ç¦ªå¿ƒï½œé¸æ“‡å›°é›£ç—‡å…è²»å·¥å…·</title>
    <meta name="description" content="å…è²»å¤é¢¨æ±ºç­–è½‰ç›¤ï¼Œçµåˆå‚³çµ±æ™ºæ…§å¹«åŠ©è§£æ±ºé¸æ“‡å›°é›£ã€‚å¾æ—¥å¸¸å°äº‹åˆ°é‡å¤§æŠ‰æ“‡ï¼Œå¤è©©å•Ÿç™¼æ‚¨çš„å…§å¿ƒã€‚">
    <meta name="keywords" content="æ±ºç­–è½‰ç›¤,é¸æ“‡å›°é›£ç—‡,å¤é¢¨å åœ,æ˜“ç¶“è½‰ç›¤,å¤è©©æŠ‰æ“‡,å¿ƒéˆæŒ‡å¼•">
	<!-- Favicon -->
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="images/favicon.png">
    <link rel="canonical" href="https://jasyooc.com/mood.html">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* å¼·åˆ¶å…¨ç«™ä½¿ç”¨æ¥·é«”ï¼Œç¹é«”å„ªåŒ– */
        body {
            font-family: 'KaiTi', 'STKaiTi', 'BiauKai', 'DFKai-SB', 'LiKaiTi', serif !important;
            -webkit-font-smoothing: antialiased;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'KaiTi', 'STKaiTi', serif !important;
            letter-spacing: 2px;
        }
        h1 {
            font-size: 2.2em;
            font-weight: bold;
        }
        .card h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: var(--text);
        }
        /* ä¿®æ­£æŒ‰éˆ•èˆ‡è¼¸å…¥å…ƒä»¶å­—é«” */
        .btn {
            font-family: 'KaiTi', 'STKaiTi', 'BiauKai', 'DFKai-SB', 'LiKaiTi', serif !important;
            font-size: 1.2em !important;
            font-weight: bold !important;
        }
        .youtube-btn, textarea, .option-tag {
            font-family: 'KaiTi', 'STKaiTi', serif !important;
        }

        /* ä¿®æ­£bug1ï¼šåŠ å¤§è¼¸å…¥æ¡† */
        textarea {
            width: 90%;
            max-width: 500px;
            height: 180px; /* åŸ120px â†’ 180pxï¼Œæ›´èˆ’é© */
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 12px;
            font-size: 1.1em;
            margin: 20px auto;
            display: block;
            line-height: 1.6; /* è®“ç¤ºä¾‹æ–‡å­—è‡ªç„¶æ›è¡Œ */
            white-space: pre-wrap; /* ä¿ç•™æ›è¡Œ */
        }

        /* ä¿®æ­£bug2ï¼šé¸é …æ¨™ç±¤ç¾åŒ–é¡¯ç¤º */
        #options-list {
            display: flex;
            flex-wrap: wrap; /* è‡ªå‹•æ›è¡Œ */
            gap: 12px;
            justify-content: center;
            margin: 30px 0 20px;
            padding: 10px;
        }
        .option-tag {
            background: var(--gray);
            padding: 12px 20px;
            border-radius: 30px;
            font-size: 1.1em;
            min-width: 100px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* è½‰ç›¤æ¨£å¼ä¿æŒä¸è®Š */
        #wheel-container {
            position: relative;
            width: 340px;
            height: 340px;
            margin: 40px auto;
        }
        canvas {
            width: 100%;
            height: 100%;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        #pointer {
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 28px solid transparent;
            border-right: 28px solid transparent;
            border-top: 55px solid var(--gold);
            z-index: 10;
        }
        #final-choice {
            font-size: 1.6em;
            font-weight: bold;
            color: var(--gold);
        }
        #inspiration {
            font-size: 1.3em;
            line-height: 1.8;
            margin: 25px 0;
        }
    </style>
</head>
<body>
    <header>
        <h1>å¤é¢¨æ±ºç­–è½‰ç›¤</h1>
        <p style="font-size:1.3em; margin:15px 0;">çµåˆå‚³çµ±æ™ºæ…§ï¼ŒåŠ©æ‚¨çªç ´é¸æ“‡å›°é›£</p>
    </header>

    <main>
        <div class="card">
            <p>è«‹åœ¨ä¸‹æ–¹è¼¸å…¥æ‚¨çš„é¸é …ï¼Œæ¯è¡Œä¸€å€‹ï¼ˆ2~6å€‹æœ€ä½³ï¼‰</p>
            
            <textarea id="user-options" placeholder="ä¾‹å¦‚ï¼š&#10;å»æ—…è¡Œ&#10;ç•™åœ¨å®¶ä¼‘æ¯&#10;è¦‹æœ‹å‹èšé¤&#10;æ­æ´²æ¼«æ­¥&#10;äºæ´²çŸ­éŠ&#10;å±±æ—ä¹"></textarea>
            
            <button class="btn" onclick="generateWheel()">ç”Ÿæˆè½‰ç›¤</button>
            
            <div id="options-input" style="display:none;">
                <p>æ‚¨çš„é¸é …ï¼š</p>
                <div id="options-list"></div>
                <button class="btn" onclick="startSpin()">é–‹å§‹è½‰å‹•</button>
            </div>
        </div>

        <div id="wheel-container" style="display:none;">
            <div id="pointer"></div>
            <canvas id="wheel" width="340" height="340"></canvas>
        </div>

        <div class="card" id="result-card">
            <h3>è½‰ç›¤æŒ‡å¼•ï¼š</h3>
            <p id="final-choice"></p>
            <p id="inspiration"></p>
            <button class="btn" id="share-btn" onclick="shareResult()">åˆ†äº«åˆ°å¾®ä¿¡</button>
            <button class="btn" onclick="resetWheel()" style="margin-top:10px; background:#666;">é‡æ–°é¸æ“‡</button>
        </div>

        <!-- å»£å‘Šä½ -->
        <div class="adsense-placeholder">ã€Google AdSense å»£å‘Šä½ã€‘</div>
    </main>

    <footer style="text-align:center; padding:50px 20px 30px; font-size:0.9em; color:#666; border-top:1px solid #eee; margin-top:40px; background:var(--bg);">
    <!-- Logo å®Œç¾å±…ä¸­ -->
    <div style="margin:0 auto 30px; width:200px; height:200px;">
        <img src="images/logo.png" alt="æ±Ÿæ¹–ç¦ªå¿ƒ Logo" 
             style="width:200px; height:200px; object-fit:contain; display:block;">
    </div>

    <p style="margin:10px 0;">Â© 2025 æ±Ÿæ¹–ç¦ªå¿ƒ Â· å¤é¢¨æƒ…ç·’ç™‚ç™’æ¸¯ç£</p>
    <p style="margin:10px 0;">
        <a href="https://jasyooc.com/privacy.html" style="color:var(--accent); margin:0 15px; text-decoration:none;">éš±ç§æ”¿ç­–</a>
        <a href="https://jasyooc.com/disclaimer.html" style="color:var(--accent); margin:0 15px; text-decoration:none;">å…è²¬è²æ˜</a>
        <a href="https://jasyooc.com/about.html" style="color:var(--accent); margin:0 15px; text-decoration:none;">é—œæ–¼æˆ‘å€‘</a>
    </p>
    <p style="margin:20px 0 10px; font-size:0.8em;">æœ¬ç«™å…§å®¹åƒ…ä¾›å¨›æ¨‚èˆ‡æƒ…ç·’èˆ’ç·©ï¼Œå¦‚æœ‰åš´é‡å¿ƒç†å•é¡Œè«‹å°‹æ±‚å°ˆæ¥­å¹«åŠ©</p>
</footer>

    <nav>
        <a href="index.html">ğŸ </a>
        <a href="sign.html">ğŸ€„</a>
        <a href="mood.html" class="active">ğŸ¡</a>
        <a href="ancient.html">ğŸ“œ</a>
        <a href="test.html">ğŸ§ª</a>
    </nav>

    <!-- è½‰ç›¤è…³æœ¬ä¿æŒä¸è®Šï¼ˆæŒ‡é‡é‚è¼¯å·²å®Œç¾ï¼‰ -->
    <script>
        let options = [];
        let canvas, ctx;
        let spinning = false;

        const inspirations = [
            "é•·é¢¨ç ´æµªæœƒæœ‰æ™‚ï¼Œç›´æ›é›²å¸†æ¿Ÿæ»„æµ·ã€‚â€”â€”ç›¸ä¿¡ç›´è¦ºï¼Œå‹‡å¾€ç›´å‰ã€‚",
            "äººç”Ÿå¦‚é€†æ—…ï¼Œæˆ‘äº¦æ˜¯è¡Œäººã€‚â€”â€”è˜‡è»¾ æ­¤è·¯é›–é›£ï¼Œäº¦æ˜¯å¿…ç¶“ã€‚",
            "å±±é‡æ°´è¤‡ç–‘ç„¡è·¯ï¼ŒæŸ³æš—èŠ±æ˜åˆä¸€æ‘ã€‚â€”â€”è½‰è§’è™•è‡ªæœ‰é©šå–œã€‚",
            "å¤©ç”Ÿæˆ‘æå¿…æœ‰ç”¨ï¼Œåƒé‡‘æ•£ç›¡é‚„å¾©ä¾†ã€‚â€”â€”æç™½ æ¯æ¢è·¯éƒ½å€¼å¾—ä¸€è©¦ã€‚",
            "æµ·åˆ°ç„¡é‚Šå¤©ä½œå²¸ï¼Œå±±ç™»çµ•é ‚æˆ‘ç‚ºå³°ã€‚â€”â€”æ‚¨å·²ç«™åœ¨æœ€é«˜è™•ã€‚",
            "èˆ‰æ¯é‚€æ˜æœˆï¼Œå°å½±æˆä¸‰äººã€‚â€”â€”æœ‰æ™‚ï¼Œç¨è‡ªå‰è¡Œä¹Ÿæ˜¯ç­”æ¡ˆã€‚",
            "è«è½ç©¿æ—æ‰“è‘‰è²ï¼Œä½•å¦¨åŸå˜¯ä¸”å¾è¡Œã€‚â€”â€”ç«¹æ–èŠ’é‹è¼•å‹é¦¬ï¼Œèª°æ€•ï¼Ÿ",
            "ä¸€ç°¾å¹½å¤¢ä»»å¹³ç”Ÿã€‚â€”â€”è·Ÿéš¨å…§å¿ƒï¼Œé‚£ä¾¿æ˜¯æœ€å¥½çš„æ­¸å®¿ã€‚"
        ];

        function generateWheel() {
            const input = document.getElementById('user-options').value.trim();
            if (!input) { alert('è«‹è‡³å°‘è¼¸å…¥å…©å€‹é¸é …ï½'); return; }
            options = input.split('\n').map(s => s.trim()).filter(s => s);
            if (options.length < 2 || options.length > 6) { alert('è«‹è¼¸å…¥ 2~6 å€‹é¸é …å“¦ï½'); return; }

            const list = document.getElementById('options-list');
            list.innerHTML = '';
            options.forEach(opt => {
                const tag = document.createElement('span');
                tag.className = 'option-tag';
                tag.textContent = opt;
                list.appendChild(tag);
            });

            document.getElementById('options-input').style.display = 'block';
            document.getElementById('wheel-container').style.display = 'block';
            drawWheel();
        }

        function drawWheel() {
            canvas = document.getElementById('wheel');
            ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = canvas.width / 2 - 25;

            const colors = ['#f5f0e8', '#ece6de', '#e3dcd4', '#dad3ca', '#d1cac0', '#c8c1b6'];
            const segmentAngle = (2 * Math.PI) / options.length;

            options.forEach((option, i) => {
                const startAngle = i * segmentAngle - Math.PI / 2;
                const endAngle = (i + 1) * segmentAngle - Math.PI / 2;

                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.closePath();
                ctx.fillStyle = colors[i % colors.length];
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 6;
                ctx.stroke();

                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle + segmentAngle / 2);
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#333';
                ctx.font = 'bold 20px KaiTi, STKaiTi, serif';
                ctx.fillText(option.substring(0, 10), radius / 2 + 5, 0);
                ctx.restore();
            });
        }

        function startSpin() {
            if (spinning) return;
            spinning = true;
            document.querySelectorAll('button').forEach(b => b.disabled = true);

            const winningIndex = Math.floor(Math.random() * options.length);
            const segmentAngleDeg = 360 / options.length;
            const offsetDeg = (Math.random() - 0.5) * segmentAngleDeg * 0.8;
            const targetCenterDeg = winningIndex * segmentAngleDeg + segmentAngleDeg / 2 + offsetDeg;
            const extraSpins = 5 + Math.random();
            const finalAngleDeg = targetCenterDeg + extraSpins * 360;

            canvas.style.transition = 'transform 5.2s cubic-bezier(0.25, 0.1, 0.25, 1)';
            canvas.style.transform = `rotate(${finalAngleDeg}deg)`;

            setTimeout(() => {
                document.getElementById('final-choice').textContent = options[winningIndex];
                document.getElementById('inspiration').textContent = inspirations[Math.floor(Math.random() * inspirations.length)];
                document.getElementById('result-card').style.display = 'block';
                spinning = false;
                document.querySelectorAll('button').forEach(b => b.disabled = false);
            }, 5400);
        }

        function resetWheel() { location.reload(); }

        function shareResult() {
            const choice = document.getElementById('final-choice').textContent;
            const text = `å¤é¢¨æ±ºç­–è½‰ç›¤æŒ‡å¼•æˆ‘ï¼š${choice} ğŸƒ å¿«ä¾†è©¦è©¦æ‚¨çš„é¸æ“‡ï¼`;
            prompt('è¤‡è£½ä»¥ä¸‹æ–‡å­—ï¼Œåˆ†äº«åˆ°å¾®ä¿¡æˆ–æœ‹å‹åœˆï¼š', text + '\n\nhttps://jasyooc.com/mood.html');
        }
    </script>
</body>
</html>