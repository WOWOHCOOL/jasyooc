/* --- åŸºç¤æ¨£å¼ --- */
body {
    font-family: 'Noto Sans TC', 'Microsoft YaHei', sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #f0f0e0 0%, #e0d0c0 100%); /* æ¼¸è®ŠèƒŒæ™¯ï¼Œæ›´æº«æ½¤ */
    color: #333;
    line-height: 1.6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.container {
    max-width: 900px;
    margin: 30px auto; /* å¢åŠ ä¸Šä¸‹é–“è· */
    padding: 30px;
    background-color: #ffffff;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15); /* æ›´æ˜é¡¯çš„é™°å½± */
    border-radius: 18px; /* æ›´åœ“æ½¤çš„é‚Šè§’ */
    flex-grow: 1; /* è®“å®¹å™¨ä½”æ»¿å¯ç”¨ç©ºé–“ */
}

/* --- é é¦– (Header) --- */
.main-header {
    background: linear-gradient(to right, #a52a2a, #8b2323); /* æ£—ç´…è‰²æ¼¸è®Š */
    color: white;
    padding: 10px 0;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
    position: sticky; /* ç²˜æ€§å°èˆª */
    top: 0;
    z-index: 1000;
}

.header-content {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
/* æ–°å¢ï¼šLogo é€£çµæ¨£å¼ï¼Œç¢ºä¿æ²’æœ‰åº•ç·š */
.logo-link {
    text-decoration: none; /* ç§»é™¤è¶…é€£çµåº•ç·š */
    color: inherit;        /* ç¹¼æ‰¿é¡è‰²ï¼Œé€šå¸¸æ˜¯ç™½è‰² */
}

/* ç¢ºä¿ Logo å®¹å™¨å…§çš„å…§å®¹ä»èƒ½ä¿æŒ Flexbox æ’åˆ— */
.logo {
    display: flex; 
    align-items: center;
    cursor: pointer; /* å¢åŠ æ»‘é¼ æŒ‡æ¨™ï¼Œæç¤ºå¯é»æ“Š */
}
/* â­ LOGO æ¨£å¼ä¿®æ”¹å€åŸŸ START â­ */
.logo {
    display: flex; 
    align-items: center;
}

.site-logo {
    width: 45px; /* èª¿æ•´ Logo åœ–ç‰‡å¤§å° */
    height: 45px;
    margin-right: 12px; /* èˆ‡æ–‡å­—é–“è· */
    object-fit: contain;
    border-radius: 8px; /* è¼•å¾®åœ“è§’ï¼Œèˆ‡å®¹å™¨é¢¨æ ¼ä¸€è‡´ */
    box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* åœ–ç‰‡é™°å½± */
}

.logo-text {
    font-family: 'Noto Serif TC', serif; /* æ›´å…¸é›…çš„å­—é«” */
    font-size: 1.4em; /* èª¿æ•´æ–‡å­—å¤§å° */
    font-weight: bold;
    color: #ffffff;
    letter-spacing: 1px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3); /* æ–‡å­—é™°å½± */
}
/* â­ LOGO æ¨£å¼ä¿®æ”¹å€åŸŸ END â­ */

nav a {
    color: white;
    text-decoration: none;
    margin-left: 20px;
    font-size: 1em;
    opacity: 0.9;
    transition: opacity 0.3s, transform 0.3s;
    position: relative;
    padding-bottom: 3px;
}

nav a::after { /* ä¸‹åŠƒç·šå‹•ç•« */
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    background: #ffd700; /* é‡‘è‰²ä¸‹åŠƒç·š */
    left: 50%;
    bottom: 0;
    transition: width 0.3s ease-out, left 0.3s ease-out;
}

nav a:hover::after {
    width: 100%;
    left: 0;
}

nav a:hover {
    opacity: 1;
    transform: translateY(-2px);
}


/* --- æ¨™é¡Œå’Œè¼¸å…¥æ¡† --- */
.main-title {
    text-align: center;
    color: #a52a2a;
    font-size: 2.5em; /* æ¨™é¡Œå­—é«”æ›´å¤§ */
    margin-bottom: 30px;
    font-family: 'Noto Serif TC', serif;
    letter-spacing: 2px;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
}

.query-input {
    text-align: center;
    margin-bottom: 40px;
}

.query-input label {
    display: block;
    margin-bottom: 15px;
    font-weight: bold;
    color: #666;
    font-size: 1.1em;
}

#user-query {
    width: 70%;
    max-width: 500px;
    padding: 15px;
    border: 2px solid #ccc;
    border-radius: 10px;
    font-size: 1.1em;
    transition: border-color 0.3s, box-shadow 0.3s;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
}

#user-query:focus {
    border-color: #a52a2a;
    box-shadow: 0 0 8px rgba(165, 42, 42, 0.4);
    outline: none;
}

/* --- æŠ½ç±¤å€åŸŸ SVG --- */
#draw-area {
    text-align: center;
    margin-bottom: 40px;
    background-color: #fcfcfc;
    border: 1px solid #eee;
    border-radius: 15px;
    padding: 20px;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
    overflow: hidden; /* ç¢ºä¿è¶…å‡ºéƒ¨åˆ†ä¸é¡¯ç¤º */
}

#main-svg {
    display: block;
    margin: 0 auto;
    /* ç§»é™¤é‚Šæ¡†å’ŒèƒŒæ™¯ï¼Œç”±çˆ¶å®¹å™¨ #draw-area æ§åˆ¶ */
}

/* ç±¤ç­’æœ¬é«” */
.censer {
    transform-origin: center bottom; 
    transition: transform 0.2s ease-out; /* å¢åŠ å¹³æ»‘éæ¸¡ */
}

/* ç­’å…§ç±¤æ–‡ */
.stick-in-censer {
    transition: opacity 0.5s, transform 0.3s;
}

/* --- æŒ‰éˆ•å®¹å™¨æ¨£å¼ä¿®æ­£ï¼šä½¿ç”¨ Flexbox ç¢ºä¿å±…ä¸­ --- */
.controls {
    /* æ ¸å¿ƒä¿®æ­£ï¼šä½¿ç”¨ Flexbox å±…ä¸­ */
    display: flex;             /* å•Ÿç”¨ Flex ä½ˆå±€ */
    justify-content: center;   /* ğŸ‘ˆ æ°´å¹³å±…ä¸­å°é½Š Flex é …ç›® */
    align-items: center;       /* å‚ç›´å±…ä¸­å°é½Š Flex é …ç›® (å¦‚æœæŒ‰éˆ•é«˜åº¦ä¸åŒ) */
    
    margin-top: 30px;
    margin-bottom: 20px; /* å¯é¸ï¼šå¢åŠ åº•éƒ¨é–“è· */
}

/* ç¢ºä¿æŒ‰éˆ•æœ¬èº«æ¨£å¼ä¸è®Š */
.primary-button, .secondary-button {
    padding: 15px 35px;
    /* ... (å…¶ä»–æ¨£å¼ä¿æŒä¸è®Š) ... */
    margin: 0 10px; /* ğŸ‘ˆ å°‡é–“è·èª¿æ•´ç‚ºå·¦å³é–“è· */
}

.primary-button {
    background-color: #a52a2a;
    color: white;
    box-shadow: 0 6px 12px rgba(165, 42, 42, 0.4);
}

.primary-button:hover:not(:disabled) {
    background-color: #8b2323;
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 15px rgba(165, 42, 42, 0.5);
}

.primary-button:disabled {
    background-color: #ccc;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
}

.secondary-button {
    background-color: #fff;
    color: #a52a2a;
    border: 2px solid #a52a2a;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
}

.secondary-button:hover {
    background-color: #f5f5f5;
    transform: translateY(-2px);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
}

/* --- çµæœé¡¯ç¤ºå€ --- */
#result-display {
    margin-top: 50px;
    padding: 40px;
    border: 1px solid #e0e0e0;
    border-radius: 18px;
    background-color: #fff;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.18);
    position: relative;
    overflow: hidden;
    animation: fadeInScale 0.7s ease-out;
}

@keyframes fadeInScale {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}


#drawn-stick-magnified {
    margin-bottom: 40px;
}

.magnified-stick-container {
    width: 90%;
    max-width: 450px;
    margin: 0 auto;
    padding: 25px;
    background-color: #fff8e1; /* ç±¤æ–‡ç´™å¼µé¡è‰² */
    border: 4px solid #a52a2a; /* æ›´ç²—çš„é‚Šæ¡† */
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.15), inset 0 0 8px rgba(255, 215, 0, 0.3); /* å¢åŠ å…§éƒ¨å…‰æšˆ */
    font-family: 'Noto Serif TC', serif;
    animation: cardAppear 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* å½ˆå‡ºå‹•ç•« */
}

@keyframes cardAppear {
    0% { transform: translateY(50px) scale(0.7); opacity: 0; }
    60% { transform: translateY(-10px) scale(1.05); opacity: 1; }
    100% { transform: translateY(0) scale(1); opacity: 1; }
}

.magnified-stick-container h3 {
    color: #a52a2a;
    font-size: 1.8em; /* ç±¤æ–‡æ¨™é¡Œæ›´å¤§ */
    margin-bottom: 15px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.stick-content {
    font-size: 1.2em; /* ç±¤æ–‡å…§å®¹å­—é«”æ›´å¤§ */
    line-height: 2; /* è¡Œé«˜æ›´å¤§ï¼Œé–±è®€èˆ’é© */
    color: #5d4037; /* æ·±æ£•è‰²å­—é«” */
    font-style: italic;
    white-space: pre-wrap; /* ä¿ç•™æ›è¡Œ */
}

#interpretation h2 {
    color: #a52a2a;
    border-bottom: 3px solid #f0f0e0; /* æ›´ç²—çš„åº•ç·š */
    padding-bottom: 12px;
    margin-bottom: 25px;
    font-size: 1.8em;
    font-family: 'Noto Serif TC', serif;
}

#interpretation-text p {
    text-align: left;
    margin-bottom: 18px;
    padding: 12px;
    border-left: 6px solid #ffd700; /* é‡‘è‰²æŒ‡ç¤ºæ¢æ›´ç²— */
    background-color: #f9f9f9;
    border-radius: 8px; /* åœ“è§’åŒ– */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

#interpretation-text strong {
    color: #4a148c; /* ç´«è‰²å¼·èª¿é‡é» */
    font-weight: bold;
}

/* --- SEO & é¡å¤–å…§å®¹ --- */
.seo-content {
    margin-top: 60px;
    padding-top: 30px;
    border-top: 2px dashed #ccc; /* æ›´æ˜é¡¯çš„è™›ç·š */
    text-align: left;
}

.seo-content h2 {
    color: #a52a2a;
    font-size: 1.8em;
    font-family: 'Noto Serif TC', serif;
    margin-bottom: 20px;
}

.seo-content ul {
    list-style-type: none;
    padding-left: 0;
}

.seo-content li {
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><circle cx="6" cy="6" r="6" fill="%23a52a2a"/></svg>') no-repeat left 8px; /* é …ç›®ç¬¦è™Ÿæ›´å¤§ä¸”å±…ä¸­ */
    background-size: 10px;
    padding-left: 25px;
    margin-bottom: 10px;
    line-height: 1.8;
}

.seo-content-simplified {
    margin-top: 30px;
    font-size: 1em;
    color: #999;
    text-align: center;
    border-top: 1px solid #eee;
    padding-top: 20px;
}


/* --- æ ¸å¿ƒ CSS å‹•ç•«å„ªåŒ– --- */

/* 1. ç±¤ç­’æ–æ™ƒå‹•ç•« */
@keyframes shake {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    10% { transform: translate(3px, -2px) rotate(1.5deg); }
    20% { transform: translate(-3px, 2px) rotate(-1.5deg); }
    30% { transform: translate(4px, -3px) rotate(2deg); }
    40% { transform: translate(-4px, 3px) rotate(-2deg); }
    50% { transform: translate(2px, -2px) rotate(1deg); }
    60% { transform: translate(-2px, 2px) rotate(-1deg); }
    70% { transform: translate(3px, -3px) rotate(1.5deg); }
    80% { transform: translate(-3px, 3px) rotate(-1.5deg); }
    90% { transform: translate(1px, -1px) rotate(0.5deg); }
}

.shaking {
    animation: shake 0.08s infinite alternate; /* æ›´å¿«é »ç‡ï¼Œæ›´åŠ‡çƒˆæ–æ™ƒ */
    /* ç¢ºä¿æ–æ™ƒåŸé»è¨­ç½®åœ¨åº•éƒ¨ï¼Œåœ¨ script.js çš„ censer å…ƒç´ ä¸­è¨­ç½® */
}

/* 2. ç±¤å­æ‰è½å‹•ç•« */

/* è¨­ç½® CSS è®Šé‡çµ¦ JS æ§åˆ¶ */
.drawn-stick-svg {
    transform-origin: center;
    animation-name: fallAndBounce;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1); /* å¹³æ»‘é–‹å§‹ï¼ŒåŠ é€Ÿåˆ°åº• */
    opacity: 0;
    fill: #fdf5e6; /* ç±¤å­é¡è‰²æ›´æ·ºæ›´ç¥è– */
    stroke: #d2b48c; /* é‚Šæ¡†é¡è‰² */
    stroke-width: 1.5;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2)); /* ç±¤å­é™°å½± */
}

/* æ ¸å¿ƒæ‰è½å‹•ç•« */
@keyframes fallAndBounce {
    /* ç±¤å­å½ˆå‡º (Upward Arc) */
    0% {
        opacity: 0; /* é–‹å§‹æ™‚ä¸å¯è¦‹ */
        transform: translate(var(--start-x), var(--start-y)) rotate(0deg) scale(0.8); /* å¾ç­’å…§æŸè™•é–‹å§‹ */
        filter: brightness(1.5) drop-shadow(0 0 10px rgba(255, 215, 0, 0.8)); /* è¦–è¦ºä¸Šçªå‡ºï¼Œå¸¶å…‰æšˆ */
    }
    
    /* ç±¤å­å¿«é€Ÿæ‰è½ï¼Œå¸¶æ—‹è½‰ */
    10% {
        opacity: 1;
        transform: 
            translate(var(--start-x) + var(--initial-bounce-x), var(--start-y) - 30px) /* å‘ä¸Šå½ˆå‡º */
            rotate(var(--initial-rot, 0deg)) scale(1);
        filter: brightness(1.2) drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
    }
    
    /* è‡ªç”±è½é«”åŠ é€Ÿ */
    80% {
        opacity: 1;
        transform: 
            translate(var(--drop-x), var(--drop-y)) 
            rotate(var(--drop-rot)); 
        filter: brightness(1);
    }
    
    /* è¼•å¾®å›å½ˆ (æ¨¡æ“¬è½åœ°ç·©è¡) */
    90% {
        transform: 
            translate(var(--drop-x), calc(var(--drop-y) - 8px)) /* å›å½ˆé«˜åº¦å¢åŠ  */
            rotate(var(--drop-rot));
    }
    
    /* æœ€çµ‚è½å®š */
    100% {
        opacity: 1;
        transform: 
            translate(var(--drop-x), var(--drop-y)) 
            rotate(var(--drop-rot));
    }
}

/* --- RWD éŸ¿æ‡‰å¼è¨­è¨ˆ --- */
@media (max-width: 768px) {
    .container {
        margin: 20px auto;
        padding: 20px;
    }

    .header-content {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px 20px;
    }

    .logo {
        margin-bottom: 10px;
    }

    nav {
        margin-top: 10px;
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    nav a {
        margin: 5px 10px;
        font-size: 0.9em;
    }

    .main-title {
        font-size: 2em;
        margin-bottom: 20px;
    }

    #user-query {
        width: 90%;
        padding: 12px;
        font-size: 1em;
    }

    .primary-button, .secondary-button {
        padding: 12px 25px;
        font-size: 1em;
        margin: 8px;
    }

    #result-display {
        padding: 25px;
        margin-top: 30px;
    }

    .magnified-stick-container {
        width: 100%;
        padding: 20px;
    }

    .magnified-stick-container h3 {
        font-size: 1.5em;
    }

    .stick-content {
        font-size: 1.1em;
        line-height: 1.8;
    }

    #interpretation h2 {
        font-size: 1.5em;
    }

    .seo-content h2 {
        font-size: 1.5em;
    }

    .seo-content li {
        padding-left: 20px;
        background-position: left 6px;
    }
}

@media (max-width: 480px) {
    .main-title {
        font-size: 1.8em;
    }

    .logo-text {
        font-size: 1.2em;
    }

    .site-logo {
        width: 40px;
        height: 40px;
    }

    .primary-button, .secondary-button {
        display: block;
        width: 80%;
        margin: 10px auto;
    }

    #user-query {
        width: 95%;
    }
}
/* --- RWD éŸ¿æ‡‰å¼è¨­è¨ˆ --- */
@media (max-width: 480px) {
    /* ... (å…¶ä»–æ¨£å¼ä¿æŒä¸è®Š) ... */

    /* é‡å°æ‰‹æ©Ÿç‰ˆ controls é€²è¡Œä¿®æ­£ï¼šè®“æŒ‰éˆ•å‚ç›´å †ç–Šä¸¦å±…ä¸­ */
    .controls {
        flex-direction: column; /* ğŸ‘ˆ å°‡ Flex é …ç›®æ”¹ç‚ºå‚ç›´å †ç–Š */
        /* justify-content: center; å’Œ align-items: center; ä¿æŒä¸è®Š */
    }

    .primary-button, .secondary-button {
        display: block;   /* è®“æŒ‰éˆ•ä½”æ»¿çˆ¶å®¹å™¨å¯¬åº¦ */
        width: 80%;       /* è¨­ç½®æŒ‰éˆ•å¯¬åº¦ */
        margin: 10px auto; /* è®“æŒ‰éˆ•åœ¨å‚ç›´æ¨¡å¼ä¸‹æ°´å¹³å±…ä¸­ */
    }
}


